<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>PWM Control</title>
 	<style>
 		html,body{height:100%;margin:0;font-family:Segoe UI,Roboto,Arial,sans-serif;}
 		body{display:flex;align-items:center;justify-content:center;background:#fff;}
 		.container{text-align:center;padding:12px}
 		.result{font-size:24px;font-weight:700;margin-top:20px;color:#333}
 	</style>
</head>
<body>
 	<div class="container">
 		<h1 id="title">PWM</h1>
		<h4>Equipo 9</h4>
		<p>Angel Gabriel Aguilar Saldivar - 202224429, Diego Cannata CÃ¡rdenas - 202229430, Keira Marisa Garrido Aguirre - 202230800</p>
 		<h1 id="result" class="result">esperando un input...</h1>
 	</div>

 	<script>
 		(function(){
 			const resultDisplay = document.getElementById('result');
 			const SERVER_IP = '192.168.100.80';

 			async function fetchAndDisplay(){
 				try{
 					const response = await fetch(`http://${SERVER_IP}/pwm/value`);
 					if(response.ok){
 						const data = await response.text();
 						resultDisplay.textContent = `Voltaje: ${data} V`;
 					}
 				}catch(err){
 					console.error('Failed to fetch PWM data:', err);
 				}
 			}

 			// Fetch data every 500ms
 			setInterval(fetchAndDisplay, 500);
 			fetchAndDisplay();
 		})();
 	</script>
</body>
</html>